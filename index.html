<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FPT Networking</title>
    <link rel="icon" type="image/png" href="fpt-logo2.png">
    <link rel="stylesheet" href="style3.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    
    <!-- Theme Controller - Load FIRST to prevent flash -->
    <script src="theme-controller.js"></script>
</head>
<body>

<!-- Theme Toggle Button (Top Right) -->
<div class="theme-toggle" onclick="toggleTheme()">
    <span id="theme-icon">ğŸŒ™</span>
</div>

<div id="progress-bar"></div>

<header class="header">
    <div class="left-box">
        <img src="Logo.png" class="logo" alt="FPT Logo">
        <div class="title">
            <h1>FPT Networking</h1>
            <p>Káº¿t ná»‘i â€” Há»— trá»£ â€” Chia sáº» dÃ nh cho sinh viÃªn FPT</p>
        </div>
    </div>
    <div class="right">
        <img src="campus_dn.png" alt="Campus FPT">
    </div>
</header>

<section class="search-container">
    <div class="search-box">
        <i class='bx bx-search'></i>
        <input type="text" id="searchInput" placeholder="TÃ¬m cÃ¢u há»i, thá»§ tá»¥c...">
        <button onclick="executeSearch()">TÃ¬m kiáº¿m</button>
    </div>
</section>

<div class="container">
    <div class="left-col">
        <div id="tab-container">
            <!-- ====================== TABS ====================== -->
            <div class="tabs">
                <button class="tab active" onclick="showTab('all', this)">
                    <i class="bx bxs-grid-alt"></i> Táº¥t cáº£
                </button>
                <button class="tab" onclick="showTab('campus', this)">
                    <i class="bx bxs-institution"></i> KhuÃ´n viÃªn
                </button>
                <button class="tab" onclick="showTab('admin', this)">
                    <i class="bx bxs-file-blank"></i> HÃ nh chÃ­nh
                </button>
                <button class="tab" onclick="showTab('study', this)">
                    <i class="bx bxs-book-reader"></i> Há»c táº­p
                </button>
                <button class="tab" onclick="showTab('project', this)">
                    <i class='bx bxs-rocket'></i> Dá»± Ã¡n
                </button>
            </div>

            <!-- ====================== DANH SÃCH CÃ‚U Há»I ====================== -->

            <!-- Táº¤T Cáº¢ -->
            <div id="all" class="qa-list">
                <div class="qa-item" onclick="toggleAnswer(this)">
                    <div class="qa-avatar"><i class='bx bxs-user-circle'></i></div>
                    <div class="qa-main">
                        <div class="qa-top">
                            <h3 class="qa-question">Sinh viÃªn cÃ³ Ä‘Æ°á»£c dÃ¹ng thang mÃ¡y khÃ´ng?</h3>
                            <span class="qa-badge">ÄÃƒ GIáº¢I ÄÃP</span>
                        </div>
                        <p class="qa-info">ğŸ‘¤ Admin â€¢ ğŸ“ KhuÃ´n viÃªn</p>
                        <div class="qa-answer">Sinh viÃªn Ä‘Æ°á»£c sá»­ dá»¥ng thang mÃ¡y táº¡i khu vá»±c cho phÃ©p.</div>
                    </div>
                </div>

                <div class="qa-item" onclick="toggleAnswer(this)">
                    <div class="qa-avatar"><i class='bx bxs-user-circle'></i></div>
                    <div class="qa-main">
                        <div class="qa-top">
                            <h3 class="qa-question">Thá»§ tá»¥c xin giáº¥y xÃ¡c nháº­n sinh viÃªn?</h3>
                            <span class="qa-badge">ÄÃƒ GIáº¢I ÄÃP</span>
                        </div>
                        <p class="qa-info">ğŸ‘¤ Admin â€¢ ğŸ“ HÃ nh chÃ­nh</p>
                        <div class="qa-answer">Äáº¿n phÃ²ng HC-NS Ä‘á»ƒ Ä‘Æ°á»£c cáº¥p giáº¥y xÃ¡c nháº­n.</div>
                    </div>
                </div>

                <div class="qa-item" onclick="toggleAnswer(this)">
                    <div class="qa-avatar"><i class='bx bxs-user-circle'></i></div>
                    <div class="qa-main">
                        <div class="qa-top">
                            <h3 class="qa-question">CÃ¡ch Ä‘Äƒng kÃ½ há»c cáº£i thiá»‡n?</h3>
                            <span class="qa-badge">ÄÃƒ GIáº¢I ÄÃP</span>
                        </div>
                        <p class="qa-info">ğŸ‘¤ Admin â€¢ ğŸ“ Há»c táº­p</p>
                        <div class="qa-answer">VÃ o AP â†’ ÄÄƒng kÃ½ cáº£i thiá»‡n.</div>
                    </div>
                </div>
            </div>

            <!-- KHUÃ”N VIÃŠN -->
            <div id="campus" class="qa-list hidden">
                <div class="qa-item" onclick="toggleAnswer(this)">
                    <div class="qa-avatar"><i class='bx bxs-user-circle'></i></div>
                    <div class="qa-main">
                        <div class="qa-top">
                            <h3 class="qa-question">Khu vá»±c gá»­i xe náº±m á»Ÿ Ä‘Ã¢u?</h3>
                            <span class="qa-badge">ÄÃƒ GIáº¢I ÄÃP</span>
                        </div>
                        <p class="qa-info">ğŸ‘¤ Admin â€¢ ğŸ“ KhuÃ´n viÃªn</p>
                        <div class="qa-answer">Gá»­i xe á»Ÿ phÃ­a sau tÃ²a Gamma.</div>
                    </div>
                </div>
            </div>

            <!-- HÃ€NH CHÃNH -->
            <div id="admin" class="qa-list hidden">
                <div class="qa-item" onclick="toggleAnswer(this)">
                    <div class="qa-avatar"><i class='bx bxs-user-circle'></i></div>
                    <div class="qa-main">
                        <div class="qa-top">
                            <h3 class="qa-question">Thá»§ tá»¥c xin giáº¥y xÃ¡c nháº­n sinh viÃªn?</h3>
                            <span class="qa-badge">ÄÃƒ GIáº¢I ÄÃP</span>
                        </div>
                        <p class="qa-info">ğŸ‘¤ Admin â€¢ ğŸ“ HÃ nh chÃ­nh</p>
                        <div class="qa-answer">Mang CCCD Ä‘áº¿n phÃ²ng HÃ nh chÃ­nh.</div>
                    </div>
                </div>
            </div>

            <!-- Há»ŒC Táº¬P -->
            <div id="study" class="qa-list hidden">
                <div class="qa-item" onclick="toggleAnswer(this)">
                    <div class="qa-avatar"><i class='bx bxs-user-circle'></i></div>
                    <div class="qa-main">
                        <div class="qa-top">
                            <h3 class="qa-question">CÃ¡ch Ä‘Äƒng kÃ½ há»c cáº£i thiá»‡n?</h3>
                            <span class="qa-badge">ÄÃƒ GIáº¢I ÄÃP</span>
                        </div>
                        <p class="qa-info">ğŸ‘¤ Admin â€¢ ğŸ“ Há»c táº­p</p>
                        <div class="qa-answer">VÃ o AP â†’ ÄÄƒng kÃ½ cáº£i thiá»‡n.</div>
                    </div>
                </div>
            </div>

            <!-- Dá»° ÃN -->
            <div id="project" class="qa-list hidden">
                <div class="qa-item" onclick="toggleAnswer(this)">
                    <div class="qa-avatar"><i class='bx bxs-user-circle'></i></div>
                    <div class="qa-main">
                        <div class="qa-top">
                            <h3 class="qa-question">CÃ¡ch Ä‘Äƒng kÃ½ há»c cáº£i thiá»‡n?</h3>
                            <span class="qa-badge">ÄÃƒ GIáº¢I ÄÃP</span>
                        </div>
                        <p class="qa-info">ğŸ‘¤ Admin â€¢ ğŸ“ Dá»± Ã¡n</p>
                        <div class="qa-answer">VÃ o AP â†’ ÄÄƒng kÃ½ cáº£i thiá»‡n.</div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <aside class="right-col">
        <div class="sidebar-box ask-box-new">
            <h3 class="box-title"><i class='bx bxs-message-rounded-dots'></i> Äáº·t cÃ¢u há»i áº©n danh</h3>
            <ul class="benefit-list">
                <li><i class="bx bx-check-shield"></i> Báº£o máº­t danh tÃ­nh tuyá»‡t Ä‘á»‘i</li>
                <li><i class="bx bx-bolt-circle"></i> Duyá»‡t vÃ  tráº£ lá»i nhanh chÃ³ng</li>
                <li><i class="bx bx-directions"></i> Chuyá»ƒn Ä‘Ãºng bá»™ pháº­n há»— trá»£</li>
            </ul>
            <div class="input-form">
                <form id="qa-form">
                    <textarea id="question" placeholder="Nháº­p cÃ¢u há»i cá»§a báº¡n táº¡i Ä‘Ã¢y..." required></textarea>
                    <input id="email" type="text" placeholder="Email (Ä‘á»ƒ chÃºng tÃ´i cÃ³ thá»ƒ liÃªn láº¡c vá»›i báº¡n)">
                    <button type="submit" class="btn-send-qa">Gá»­i cÃ¢u há»i ngay</button>
                </form>
            </div>
        </div>
        <div class="sidebar-box solve-box-new">
            <h3 class="box-title"><i class='bx bxs-info-circle'></i> Giáº£i quyáº¿t váº¥n Ä‘á»</h3>
            <ul class="solve-list">
                <li><i class='bx bx-right-arrow-alt'></i> Äáº·t cÃ¢u há»i áº©n danh nhanh chÃ³ng</li>
                <li><i class='bx bx-right-arrow-alt'></i> TÆ° váº¥n há»c vá»¥, Ä‘iá»ƒm sá»‘</li>
            </ul>
        </div>
    </aside>
</div>

<script type="module">
/* ============================================================
   FIREBASE & APP LOGIC
============================================================ */
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, addDoc, serverTimestamp } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
    apiKey: "AIzaSyBGHvy0UldlEWC_fxvG8P4Wac_d86mRtqc",
    authDomain: "fpt-networking.firebaseapp.com",
    projectId: "fpt-networking",
    storageBucket: "fpt-networking.appspot.com",
    messagingSenderId: "262629580192",
    appId: "1:262629580192:web:76c978f29db9fddc97e57c"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const searchInput = document.getElementById("searchInput");
const questionField = document.getElementById("question");
const qaForm = document.getElementById("qa-form");

// Auto-resize textarea
if (questionField) {
    questionField.addEventListener("input", function () {
        this.style.height = "auto";
        this.style.height = this.scrollHeight + "px";
    });
}

// Search function
window.executeSearch = function () {
    const query = searchInput ? searchInput.value.trim() : "";
    if (!query) return alert("Vui lÃ²ng nháº­p ná»™i dung cáº§n tÃ¬m!");
    window.location.href = `search.html?q=${encodeURIComponent(query)}`;
};

// Tab switching
window.showTab = function (tabName, element) {
    document.querySelectorAll(".tab").forEach(btn => btn.classList.remove("active"));
    if (element) element.classList.add("active");

    document.querySelectorAll(".qa-list").forEach(list => {
        list.classList.add("hidden");
        list.style.opacity = 0;
    });

    const target = document.getElementById(tabName);
    if (target) {
        target.classList.remove("hidden");
        setTimeout(() => target.style.opacity = 1, 20);
    }
};

// Toggle answer
window.toggleAnswer = function (item) {
    item.classList.toggle("active");
};

// Enter to search
if (searchInput) {
    searchInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") window.executeSearch();
    });
}

// Submit question form
if (qaForm) {
    qaForm.addEventListener("submit", async (e) => {
        e.preventDefault();

        const btn = qaForm.querySelector(".btn-send-qa");
        const question = questionField.value.trim();
        const email = document.getElementById("email").value.trim();

        if (!question) return alert("Vui lÃ²ng nháº­p cÃ¢u há»i!");

        btn.disabled = true;
        btn.innerText = "Äang gá»­i...";

        try {
            await addDoc(collection(db, "questions"), {
                question,
                email: email || "áº¨n danh",
                createdAt: serverTimestamp()
            });

            window.location.href = "thank-you.html";
        } catch (err) {
            alert("Lá»—i: " + err.message);
            btn.disabled = false;
            btn.innerText = "Gá»­i cÃ¢u há»i ngay";
        }
    });
}
</script>

<!-- Elfsight AI Chatbot -->
<script src="https://elfsightcdn.com/platform.js" async></script>
<div class="elfsight-app-b280338c-1279-469a-8c38-99fe0b33031f" data-elfsight-app-lazy></div>

</body>
</html>